1. 

2. String是不可变类型（Immutable）

3. ArrayList 与 LinkList

   1.存储方式不同 2.一个插入快、一个查询快

4. HashMap与TreeMap 

   1.红黑树 2.hash冲突 

5. HashSet内部放着 HashMap









1. 线程池

   1.核心线程数 2.最大线程数 3.队列 4. keepAliveTime 5.handler（拒绝策略）

   超出核心线程数之后、放到队列。如果队列满了就开启新的线程数来处理。

   

   Sync 与 ReentryLock

   关键字、设置公平、可否中断、更细粒度

   

   锁

   偏向锁、轻量锁、重量锁

   

   Volatile

   多线程可见、防止指令重排

   

   copyOnWrite容器

   写操作会复制一份副本、成功后替换原来的。

   

   

   BIO、NIO、AIO

   阻塞、同步非阻塞（用的比较广）、异步（编程人员要求比较高）

   

   mysql读写方式

   当前读、快照读

   快照读：select查询

   当前读：select+for update 、 update、delete;

   

   mysql锁：

   行锁、表锁、间隙锁

   

   当前读+查询索引+索引值不存在

   间隙锁只对insert操作有影响、仍然可以当前读

   优化：索引加上唯一索引，防止行锁升级为间隙锁

   

   事务隔离级别：

   可重复读：无法避免幻读（mysql解决：mvcc+当前读锁的机制）

   

   

   Redis:

   数据结构： hash、zset（跳表+压缩表（双向链表））

   

   redis持久化：

   为了防止重启后，数据丢失

   两种策略： rdb（全量）、aof(日志)。两种合作：设置900秒后去做全量备份、期间使用日志备份

   

   redis淘汰策略：

   lru: 最近使用次数最少的（有allkeys: 所有、volatile: 过期时间）

   

   

   

   电商：

   减库存：（不应该每次减库存都进行db操作）

   

   

   

   微信支付：

   异步通知： 微信向我们发送Post请求

   支付成功回调处理：1.做签名校验、金额校验 2.修改支付状态 3.告诉微信不要异步通知了（按照微信给的格式返回）

   

   

   支付宝支付：

   RSA签名 

    != 加密

   自己用RSA非对称签名生成商户私钥和公钥，公钥填写到填到支付宝

   支付：发起（带上商户私钥） =>  支付宝使用（商户公钥）

   异步通知： 支付宝发起（带上支付宝私钥） => 商户系统（使用支付宝公钥验签）

   

   

   

   

   

   

   

   

   

   